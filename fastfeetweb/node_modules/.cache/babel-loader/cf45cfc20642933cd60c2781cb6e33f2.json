{"ast":null,"code":"var _jsxFileName = \"/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Encomendas/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { MdAdd, MdRemoveRedEye, MdEdit, MdDelete, MdFiberManualRecord } from 'react-icons/md';\nimport { parseISO, format } from 'date-fns';\nimport { Container, OrderContent, Table, OrderItem, Button, Retirada, Cancelada, Pendente, Entregue } from './styles';\nimport SearchInput from '../../components/Search';\nimport ButtonAdd from '../../components/ButtonAdd';\nimport HeaderList from '../../components/HeaderList';\nimport api from '../../services/api';\nimport history from '../../services/history';\nimport ButtonMore from '../../components/ButtonMore';\nimport EdicaoEncomendas from '../EdicaoEncomendas';\nexport default function Encomendas() {\n  const [orders, setOrders] = useState([]);\n  const [page, setPage] = useState(1);\n\n  function formatDate(data) {\n    return data.map(order => ({ ...order,\n      start_dateFormated: order.start_date ? format(parseISO(order.start_date), 'dd/MM/yyyy') : null,\n      end_dateFormated: order.end_date ? format(parseISO(order.end_date), 'dd/MM/yyyy') : null,\n      canceled_dateFormated: order.canceled_at ? format(parseISO(order.canceled_at), 'dd/MM/yyyy') : null\n    }));\n  }\n\n  async function loadOrders() {\n    const response = await api.get('orders', {\n      params: page\n    });\n    const data = formatDate(response.data);\n    setOrders(data);\n  }\n\n  useEffect(() => {\n    loadOrders(); // eslint-disable-next-line\n  }, [page]);\n\n  async function handleSearch(e) {\n    const response = await api.get('orders', {\n      params: {\n        q: e.target.value\n      }\n    });\n    const data = formatDate(response.data);\n    setOrders(data);\n  }\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(OrderContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(HeaderList, {\n    title: \"Gerenciando Encomendas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(SearchInput, {\n    type: \"text\",\n    placeholder: \"Buscar por encomendas\",\n    onChange: handleSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(ButtonAdd, {\n    Icon: MdAdd,\n    title: \"CADASTRAR\",\n    type: \"button\",\n    action: () => history.push('/encomendas/'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  })), React.createElement(Table, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"ID\"), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Produto\"), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Destinat\\xE1rio\"), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Entregador\"), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Cidade\"), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Estado\"), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Status\"), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"A\\xE7\\xF5es\"))), orders.map(order => React.createElement(OrderItem, {\n    key: order.id,\n    data: order,\n    updateOrder: loadOrders,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"#\", order.id), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, order.product), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, order.recipient.name), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, order.delivery.name), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, order.recipient.city), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, order.recipient.state), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, order.end_dateFormated ? React.createElement(Entregue, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(MdFiberManualRecord, {\n    size: 15,\n    color: \"#2CA42B\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"ENTREGUE\")) : order.start_dateFormated ? React.createElement(Retirada, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(MdFiberManualRecord, {\n    size: 15,\n    color: \"#4D85EE\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"RETIRADA\")) : order.canceled_dateFormated ? React.createElement(Cancelada, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(MdFiberManualRecord, {\n    size: 15,\n    color: \"#de3b3b\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"CANCELADA\")) : React.createElement(Pendente, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(MdFiberManualRecord, {\n    size: 15,\n    color: \"#c1bc35\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"PENDENTE\"))), React.createElement(ButtonMore, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(Button, {\n    key: order.id,\n    data: order,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => history.push('/'),\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(MdRemoveRedEye, {\n    color: \"#8E5BE8\",\n    size: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Visualizar\"))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => history.push(`/encomenda/${order.id}`),\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, React.createElement(MdEdit, {\n    color: \"#4D85EE\",\n    size: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Editar\"))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => history.push('/'),\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(MdDelete, {\n    color: \"#DE3B3B\",\n    size: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, \"Excluir\")))))))));\n}","map":{"version":3,"sources":["/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Encomendas/index.js"],"names":["React","useState","useEffect","MdAdd","MdRemoveRedEye","MdEdit","MdDelete","MdFiberManualRecord","parseISO","format","Container","OrderContent","Table","OrderItem","Button","Retirada","Cancelada","Pendente","Entregue","SearchInput","ButtonAdd","HeaderList","api","history","ButtonMore","EdicaoEncomendas","Encomendas","orders","setOrders","page","setPage","formatDate","data","map","order","start_dateFormated","start_date","end_dateFormated","end_date","canceled_dateFormated","canceled_at","loadOrders","response","get","params","handleSearch","e","q","target","value","push","id","product","recipient","name","delivery","city","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  MdAdd,\n  MdRemoveRedEye,\n  MdEdit,\n  MdDelete,\n  MdFiberManualRecord,\n} from 'react-icons/md';\nimport { parseISO, format } from 'date-fns';\n\nimport {\n  Container,\n  OrderContent,\n  Table,\n  OrderItem,\n  Button,\n  Retirada,\n  Cancelada,\n  Pendente,\n  Entregue,\n} from './styles';\nimport SearchInput from '../../components/Search';\nimport ButtonAdd from '../../components/ButtonAdd';\nimport HeaderList from '../../components/HeaderList';\nimport api from '../../services/api';\nimport history from '../../services/history';\nimport ButtonMore from '../../components/ButtonMore';\nimport EdicaoEncomendas from '../EdicaoEncomendas';\n\nexport default function Encomendas() {\n  const [orders, setOrders] = useState([]);\n  const [page, setPage] = useState(1);\n\n  function formatDate(data) {\n    return data.map(order => ({\n      ...order,\n      start_dateFormated: order.start_date\n        ? format(parseISO(order.start_date), 'dd/MM/yyyy')\n        : null,\n      end_dateFormated: order.end_date\n        ? format(parseISO(order.end_date), 'dd/MM/yyyy')\n        : null,\n      canceled_dateFormated: order.canceled_at\n        ? format(parseISO(order.canceled_at), 'dd/MM/yyyy')\n        : null,\n    }));\n  }\n\n  async function loadOrders() {\n    const response = await api.get('orders', {\n      params: page,\n    });\n\n    const data = formatDate(response.data);\n    setOrders(data);\n  }\n\n  useEffect(() => {\n    loadOrders(); // eslint-disable-next-line\n  }, [page]);\n\n  async function handleSearch(e) {\n    const response = await api.get('orders', {\n      params: {\n        q: e.target.value,\n      },\n    });\n\n    const data = formatDate(response.data);\n    setOrders(data);\n  }\n\n  return (\n    <Container>\n      <OrderContent>\n        <HeaderList title=\"Gerenciando Encomendas\">\n          <SearchInput\n            type=\"text\"\n            placeholder=\"Buscar por encomendas\"\n            onChange={handleSearch}\n          />\n          <ButtonAdd\n            Icon={MdAdd}\n            title=\"CADASTRAR\"\n            type=\"button\"\n            action={() => history.push('/encomendas/')}\n          />\n        </HeaderList>\n\n        <Table>\n          <section>\n            <strong>ID</strong>\n            <strong>Produto</strong>\n            <strong>Destinatário</strong>\n            <strong>Entregador</strong>\n            <strong>Cidade</strong>\n            <strong>Estado</strong>\n            <strong>Status</strong>\n            <strong>Ações</strong>\n          </section>\n        </Table>\n        {orders.map(order => (\n          <OrderItem key={order.id} data={order} updateOrder={loadOrders}>\n            <small>#{order.id}</small>\n            <small>{order.product}</small>\n            <small>{order.recipient.name}</small>\n            <small>{order.delivery.name}</small>\n            <small>{order.recipient.city}</small>\n            <small>{order.recipient.state}</small>\n            <small>\n              {order.end_dateFormated ? (\n                <Entregue>\n                  <MdFiberManualRecord size={15} color=\"#2CA42B\" />\n                  <strong>ENTREGUE</strong>\n                </Entregue>\n              ) : order.start_dateFormated ? (\n                <Retirada>\n                  <MdFiberManualRecord size={15} color=\"#4D85EE\" />\n                  <strong>RETIRADA</strong>\n                </Retirada>\n              ) : order.canceled_dateFormated ? (\n                <Cancelada>\n                  <MdFiberManualRecord size={15} color=\"#de3b3b\" />\n                  <strong>CANCELADA</strong>\n                </Cancelada>\n              ) : (\n                <Pendente>\n                  <MdFiberManualRecord size={15} color=\"#c1bc35\" />\n                  <strong>PENDENTE</strong>\n                </Pendente>\n              )}\n            </small>\n            <ButtonMore>\n              <Button key={order.id} data={order}>\n                <div>\n                  <button onClick={() => history.push('/')} type=\"button\">\n                    <MdRemoveRedEye color=\"#8E5BE8\" size={10} />\n                    <span>Visualizar</span>\n                  </button>\n                </div>\n                <div>\n                  <button\n                    onClick={() => history.push(`/encomenda/${order.id}`)}\n                    type=\"button\"\n                  >\n                    <MdEdit color=\"#4D85EE\" size={10} />\n                    <span>Editar</span>\n                  </button>\n                </div>\n                <div>\n                  <button onClick={() => history.push('/')} type=\"button\">\n                    <MdDelete color=\"#DE3B3B\" size={10} />\n                    <span>Excluir</span>\n                  </button>\n                </div>\n              </Button>\n            </ButtonMore>\n          </OrderItem>\n        ))}\n      </OrderContent>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}