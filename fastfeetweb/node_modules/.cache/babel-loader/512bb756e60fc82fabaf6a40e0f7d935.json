{"ast":null,"code":"import { all, takeLatest, call, put } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport api from '../../../services/api';\nimport history from '../../../services/history';\nimport { deleteSuccess } from './actions';\nexport function* updateRecipient({\n  id,\n  name,\n  street,\n  number,\n  complement,\n  city,\n  state,\n  zip\n}) {\n  try {\n    yield call(api.put, `recipient/${id}`, {\n      name,\n      street,\n      number,\n      complement,\n      state,\n      city,\n      zip\n    });\n    toast.success('Destinatário atualizado com sucesso!');\n    history.push('/destinatarios');\n  } catch (error) {\n    toast.error('Falha na atualização de destinatário, verifique os campos novamente.');\n  }\n}\nexport function* deleteRecipient({\n  payload\n}) {\n  try {\n    const {\n      id\n    } = payload;\n    yield call(api.delete, `recipient/${id}`, {\n      id\n    });\n    yield put(deleteSuccess({\n      id\n    }));\n    toast.success('Destinatário deletado com sucesso!');\n    history.push('/destinatarios');\n  } catch (error) {\n    toast.error('Falha ao deletar destinatário.');\n  }\n}\nexport function* addRecipient({\n  payload\n}) {\n  try {\n    const {\n      name,\n      street,\n      number,\n      complement,\n      city,\n      state,\n      zip,\n      email\n    } = payload;\n    yield call(api.post, `recipient`, {\n      name,\n      street,\n      number,\n      complement,\n      city,\n      state,\n      zip,\n      email\n    });\n    toast.success('Destinatário criado com sucesso!');\n    history.push('/destinatarios');\n  } catch (error) {\n    toast.error('Falha na criação de destinatário, verifique os campos novamente.');\n  }\n}\nexport default all([takeLatest('@recipient/UPDATE_REQUEST', updateRecipient), takeLatest('@recipient/DELETE_REQUEST', deleteRecipient), takeLatest('@recipient/ADD_REQUEST', addRecipient)]);","map":{"version":3,"sources":["/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/store/modules/recipient/sagas.js"],"names":["all","takeLatest","call","put","toast","api","history","deleteSuccess","updateRecipient","id","name","street","number","complement","city","state","zip","success","push","error","deleteRecipient","payload","delete","addRecipient","email","post"],"mappings":"AAAA,SAASA,GAAT,EAAcC,UAAd,EAA0BC,IAA1B,EAAgCC,GAAhC,QAA2C,oBAA3C;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,SAASC,aAAT,QAA8B,WAA9B;AAEA,OAAO,UAAUC,eAAV,CAA0B;AAC/BC,EAAAA,EAD+B;AAE/BC,EAAAA,IAF+B;AAG/BC,EAAAA,MAH+B;AAI/BC,EAAAA,MAJ+B;AAK/BC,EAAAA,UAL+B;AAM/BC,EAAAA,IAN+B;AAO/BC,EAAAA,KAP+B;AAQ/BC,EAAAA;AAR+B,CAA1B,EASJ;AACD,MAAI;AACF,UAAMd,IAAI,CAACG,GAAG,CAACF,GAAL,EAAW,aAAYM,EAAG,EAA1B,EAA6B;AACrCC,MAAAA,IADqC;AAErCC,MAAAA,MAFqC;AAGrCC,MAAAA,MAHqC;AAIrCC,MAAAA,UAJqC;AAKrCE,MAAAA,KALqC;AAMrCD,MAAAA,IANqC;AAOrCE,MAAAA;AAPqC,KAA7B,CAAV;AAUAZ,IAAAA,KAAK,CAACa,OAAN,CAAc,sCAAd;AAEAX,IAAAA,OAAO,CAACY,IAAR,CAAa,gBAAb;AACD,GAdD,CAcE,OAAOC,KAAP,EAAc;AACdf,IAAAA,KAAK,CAACe,KAAN,CACE,sEADF;AAGD;AACF;AAED,OAAO,UAAUC,eAAV,CAA0B;AAAEC,EAAAA;AAAF,CAA1B,EAAuC;AAC5C,MAAI;AACF,UAAM;AAAEZ,MAAAA;AAAF,QAASY,OAAf;AAEA,UAAMnB,IAAI,CAACG,GAAG,CAACiB,MAAL,EAAc,aAAYb,EAAG,EAA7B,EAAgC;AAAEA,MAAAA;AAAF,KAAhC,CAAV;AAEA,UAAMN,GAAG,CAACI,aAAa,CAAC;AAAEE,MAAAA;AAAF,KAAD,CAAd,CAAT;AACAL,IAAAA,KAAK,CAACa,OAAN,CAAc,oCAAd;AAEAX,IAAAA,OAAO,CAACY,IAAR,CAAa,gBAAb;AACD,GATD,CASE,OAAOC,KAAP,EAAc;AACdf,IAAAA,KAAK,CAACe,KAAN,CAAY,gCAAZ;AACD;AACF;AAED,OAAO,UAAUI,YAAV,CAAuB;AAAEF,EAAAA;AAAF,CAAvB,EAAoC;AACzC,MAAI;AACF,UAAM;AACJX,MAAAA,IADI;AAEJC,MAAAA,MAFI;AAGJC,MAAAA,MAHI;AAIJC,MAAAA,UAJI;AAKJC,MAAAA,IALI;AAMJC,MAAAA,KANI;AAOJC,MAAAA,GAPI;AAQJQ,MAAAA;AARI,QASFH,OATJ;AAWA,UAAMnB,IAAI,CAACG,GAAG,CAACoB,IAAL,EAAY,WAAZ,EAAwB;AAChCf,MAAAA,IADgC;AAEhCC,MAAAA,MAFgC;AAGhCC,MAAAA,MAHgC;AAIhCC,MAAAA,UAJgC;AAKhCC,MAAAA,IALgC;AAMhCC,MAAAA,KANgC;AAOhCC,MAAAA,GAPgC;AAQhCQ,MAAAA;AARgC,KAAxB,CAAV;AAWApB,IAAAA,KAAK,CAACa,OAAN,CAAc,kCAAd;AAEAX,IAAAA,OAAO,CAACY,IAAR,CAAa,gBAAb;AACD,GA1BD,CA0BE,OAAOC,KAAP,EAAc;AACdf,IAAAA,KAAK,CAACe,KAAN,CACE,kEADF;AAGD;AACF;AAED,eAAenB,GAAG,CAAC,CACjBC,UAAU,CAAC,2BAAD,EAA8BO,eAA9B,CADO,EAEjBP,UAAU,CAAC,2BAAD,EAA8BmB,eAA9B,CAFO,EAGjBnB,UAAU,CAAC,wBAAD,EAA2BsB,YAA3B,CAHO,CAAD,CAAlB","sourcesContent":["import { all, takeLatest, call, put } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\n\nimport api from '../../../services/api';\nimport history from '../../../services/history';\nimport { deleteSuccess } from './actions';\n\nexport function* updateRecipient({\n  id,\n  name,\n  street,\n  number,\n  complement,\n  city,\n  state,\n  zip,\n}) {\n  try {\n    yield call(api.put, `recipient/${id}`, {\n      name,\n      street,\n      number,\n      complement,\n      state,\n      city,\n      zip,\n    });\n\n    toast.success('Destinatário atualizado com sucesso!');\n\n    history.push('/destinatarios');\n  } catch (error) {\n    toast.error(\n      'Falha na atualização de destinatário, verifique os campos novamente.'\n    );\n  }\n}\n\nexport function* deleteRecipient({ payload }) {\n  try {\n    const { id } = payload;\n\n    yield call(api.delete, `recipient/${id}`, { id });\n\n    yield put(deleteSuccess({ id }));\n    toast.success('Destinatário deletado com sucesso!');\n\n    history.push('/destinatarios');\n  } catch (error) {\n    toast.error('Falha ao deletar destinatário.');\n  }\n}\n\nexport function* addRecipient({ payload }) {\n  try {\n    const {\n      name,\n      street,\n      number,\n      complement,\n      city,\n      state,\n      zip,\n      email,\n    } = payload;\n\n    yield call(api.post, `recipient`, {\n      name,\n      street,\n      number,\n      complement,\n      city,\n      state,\n      zip,\n      email,\n    });\n\n    toast.success('Destinatário criado com sucesso!');\n\n    history.push('/destinatarios');\n  } catch (error) {\n    toast.error(\n      'Falha na criação de destinatário, verifique os campos novamente.'\n    );\n  }\n}\n\nexport default all([\n  takeLatest('@recipient/UPDATE_REQUEST', updateRecipient),\n  takeLatest('@recipient/DELETE_REQUEST', deleteRecipient),\n  takeLatest('@recipient/ADD_REQUEST', addRecipient),\n]);\n"]},"metadata":{},"sourceType":"module"}