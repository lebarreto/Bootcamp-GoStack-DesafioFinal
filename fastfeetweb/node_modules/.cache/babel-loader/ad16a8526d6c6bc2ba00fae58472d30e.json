{"ast":null,"code":"var _jsxFileName = \"/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Entregadores/EdicaoEntregador/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { MdCheck, MdKeyboardArrowLeft } from 'react-icons/md';\nimport { Form, Input } from '@rocketseat/unform';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\nimport { Container, EditDeliveryman, FormDeliveryman } from './styles';\nimport HeaderPages from '../../../components/HeaderPages';\nimport history from '../../../services/history';\nimport IconButton from '../../../components/IconButton';\nimport ButtonBack from '../../../components/ButtonBack';\nimport api from '../../../services/api';\nimport * as DeliverymanActions from '../../../store/modules/deliveryman/actions';\nimport AvatarInput from '../AvatarInput';\nconst schema = Yup.object().shape({\n  name: Yup.string().required('O nome do destinatário é obrigatório'),\n  email: Yup.string().required('O email é obrigatório')\n});\nexport default function EdicaoEntregador({\n  match\n}) {\n  const dispatch = useDispatch();\n  const {\n    id\n  } = match.params;\n  const [deliveryman, setDeliveryman] = useState('');\n  const [, setName] = useState([]);\n  const [, setEmail] = useState([]);\n\n  async function loadDeliveryman() {\n    if (id) {\n      const response = await api.get(`deliveries/${id}`);\n      setDeliveryman(response.data);\n    }\n  }\n\n  useEffect(() => {\n    loadDeliveryman(); // eslint-disable-next-line\n  }, [id]);\n\n  const handleNameChange = e => {\n    deliveryman.name = e.target.value;\n    setName(deliveryman.name);\n  };\n\n  const handleEmailChange = e => {\n    deliveryman.email = e.target.value;\n    setEmail(deliveryman.email);\n  };\n\n  async function handleSubmit({\n    name,\n    email,\n    avatar_id\n  }) {\n    console.tron.log(name, 'nome');\n    dispatch(DeliverymanActions.updateRequest({\n      id,\n      name,\n      email,\n      avatar_id\n    }));\n  }\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(EditDeliveryman, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Form, {\n    initialData: deliveryman,\n    schema: schema,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(HeaderPages, {\n    title: \"Edi\\xE7\\xE3o de entregadores\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(ButtonBack, {\n    Icon: MdKeyboardArrowLeft,\n    title: \"VOLTAR\",\n    type: \"button\",\n    action: history.goBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(IconButton, {\n    Icon: MdCheck,\n    title: \"SALVAR\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(FormDeliveryman, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(AvatarInput, {\n    name: \"avatar_id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"divName\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"Nome\"), React.createElement(Input, {\n    name: \"name\",\n    placeholder: \"Nome do entregador\",\n    onChange: handleNameChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"divEmail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Email\"), React.createElement(Input, {\n    name: \"email\",\n    placeholder: \"Email do entregador\",\n    onChange: handleEmailChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }))))));\n}\nEdicaoEntregador.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    }).isRequired\n  }).isRequired\n};","map":{"version":3,"sources":["/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Entregadores/EdicaoEntregador/index.js"],"names":["React","useEffect","useState","PropTypes","MdCheck","MdKeyboardArrowLeft","Form","Input","Yup","useDispatch","Container","EditDeliveryman","FormDeliveryman","HeaderPages","history","IconButton","ButtonBack","api","DeliverymanActions","AvatarInput","schema","object","shape","name","string","required","email","EdicaoEntregador","match","dispatch","id","params","deliveryman","setDeliveryman","setName","setEmail","loadDeliveryman","response","get","data","handleNameChange","e","target","value","handleEmailChange","handleSubmit","avatar_id","console","tron","log","updateRequest","goBack","propTypes","isRequired"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { MdCheck, MdKeyboardArrowLeft } from 'react-icons/md';\nimport { Form, Input } from '@rocketseat/unform';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\n\nimport { Container, EditDeliveryman, FormDeliveryman } from './styles';\nimport HeaderPages from '../../../components/HeaderPages';\nimport history from '../../../services/history';\nimport IconButton from '../../../components/IconButton';\nimport ButtonBack from '../../../components/ButtonBack';\nimport api from '../../../services/api';\nimport * as DeliverymanActions from '../../../store/modules/deliveryman/actions';\nimport AvatarInput from '../AvatarInput';\n\nconst schema = Yup.object().shape({\n  name: Yup.string().required('O nome do destinatário é obrigatório'),\n  email: Yup.string().required('O email é obrigatório'),\n});\n\nexport default function EdicaoEntregador({ match }) {\n  const dispatch = useDispatch();\n\n  const { id } = match.params;\n  const [deliveryman, setDeliveryman] = useState('');\n  const [, setName] = useState([]);\n  const [, setEmail] = useState([]);\n\n  async function loadDeliveryman() {\n    if (id) {\n      const response = await api.get(`deliveries/${id}`);\n      setDeliveryman(response.data);\n    }\n  }\n\n  useEffect(() => {\n    loadDeliveryman(); // eslint-disable-next-line\n  }, [id]);\n\n  const handleNameChange = e => {\n    deliveryman.name = e.target.value;\n    setName(deliveryman.name);\n  };\n\n  const handleEmailChange = e => {\n    deliveryman.email = e.target.value;\n    setEmail(deliveryman.email);\n  };\n\n  async function handleSubmit({ name, email, avatar_id }) {\n    console.tron.log(name, 'nome');\n    dispatch(DeliverymanActions.updateRequest({ id, name, email, avatar_id }));\n  }\n\n  return (\n    <Container>\n      <EditDeliveryman>\n        <Form initialData={deliveryman} schema={schema} onSubmit={handleSubmit}>\n          <HeaderPages title=\"Edição de entregadores\">\n            <ButtonBack\n              Icon={MdKeyboardArrowLeft}\n              title=\"VOLTAR\"\n              type=\"button\"\n              action={history.goBack}\n            />\n            <IconButton\n              Icon={MdCheck}\n              title=\"SALVAR\"\n              type=\"submit\"\n              onClick={handleSubmit}\n            />\n          </HeaderPages>\n          <FormDeliveryman>\n            <AvatarInput name=\"avatar_id\" />\n            <div className=\"divName\">\n              <p>Nome</p>\n              <Input\n                name=\"name\"\n                placeholder=\"Nome do entregador\"\n                onChange={handleNameChange}\n              />\n            </div>\n            <div className=\"divEmail\">\n              <p>Email</p>\n              <Input\n                name=\"email\"\n                placeholder=\"Email do entregador\"\n                onChange={handleEmailChange}\n              />\n            </div>\n          </FormDeliveryman>\n        </Form>\n      </EditDeliveryman>\n    </Container>\n  );\n}\n\nEdicaoEntregador.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }).isRequired,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}