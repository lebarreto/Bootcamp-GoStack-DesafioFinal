{"ast":null,"code":"var _jsxFileName = \"/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Entregadores/EdicaoEntregador/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { MdCheck, MdKeyboardArrowLeft } from 'react-icons/md';\nimport { Form, Input } from '@rocketseat/unform';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\nimport { Container, EditDeliveryman, FormDeliveryman } from './styles';\nimport HeaderPages from '../../../components/HeaderPages';\nimport history from '../../../services/history';\nimport IconButton from '../../../components/IconButton';\nimport ButtonBack from '../../../components/ButtonBack';\nimport api from '../../../services/api';\nimport * as DeliverymanActions from '../../../store/modules/deliveryman/actions';\nimport AvatarInput from '../AvatarInput';\nconst schema = Yup.object().shape({\n  name: Yup.string().required('O nome do destinatário é obrigatório'),\n  street: Yup.string().required('O nome da rua é obrigatório'),\n  number: Yup.string().required('O número é obrigatório'),\n  city: Yup.string().required('O nome da cidade é obrigatório'),\n  state: Yup.string().required('O estado é obrigatório'),\n  zip: Yup.number().required('O zip é obrigatório')\n});\nexport default function EdicaoEntregador({\n  match\n}) {\n  const dispatch = useDispatch();\n  const {\n    id\n  } = match.params;\n  const [deliveryman, setDeliveryman] = useState('');\n  const [, setName] = useState([]);\n  const [, setEmail] = useState([]);\n\n  async function loadDeliveryman() {\n    if (id) {\n      const response = await api.get(`deliveries/${id}`);\n      const currentDeliveryman = {\n        value: response.data.id,\n        label: response.data.name\n      };\n      response.data.currentDeliveryman = currentDeliveryman;\n      setDeliveryman(response.data);\n    }\n  }\n\n  useEffect(() => {\n    loadDeliveryman(); // eslint-disable-next-line\n  }, [id]);\n\n  const handleNameChange = e => {\n    deliveryman.name = e.target.value;\n    setName(deliveryman.name);\n  };\n\n  const handleEmailChange = e => {\n    deliveryman.email = e.target.value;\n    setEmail(deliveryman.email);\n  };\n\n  async function handleSubmit({\n    name,\n    email,\n    avatar_id\n  }) {\n    console.tron.log(name, 'nome');\n    dispatch(DeliverymanActions.updateRequest({\n      id,\n      name,\n      email,\n      avatar_id\n    }));\n  }\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(EditDeliveryman, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(Form, {\n    initialData: deliveryman,\n    schema: schema,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(HeaderPages, {\n    title: \"Edi\\xE7\\xE3o de entregadores\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(ButtonBack, {\n    Icon: MdKeyboardArrowLeft,\n    title: \"VOLTAR\",\n    type: \"button\",\n    action: history.goBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(IconButton, {\n    Icon: MdCheck,\n    title: \"SALVAR\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  })), React.createElement(FormDeliveryman, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(AvatarInput, {\n    name: \"avatar_id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"divName\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Nome\"), React.createElement(Input, {\n    name: \"name\",\n    placeholder: \"Nome do entregador\",\n    onChange: handleNameChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"divEmail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Email\"), React.createElement(Input, {\n    name: \"email\",\n    placeholder: \"Email do entregador\",\n    onChange: handleEmailChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }))))));\n}\nEdicaoEntregador.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    }).isRequired\n  }).isRequired\n};","map":{"version":3,"sources":["/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Entregadores/EdicaoEntregador/index.js"],"names":["React","useEffect","useState","PropTypes","MdCheck","MdKeyboardArrowLeft","Form","Input","Yup","useDispatch","Container","EditDeliveryman","FormDeliveryman","HeaderPages","history","IconButton","ButtonBack","api","DeliverymanActions","AvatarInput","schema","object","shape","name","string","required","street","number","city","state","zip","EdicaoEntregador","match","dispatch","id","params","deliveryman","setDeliveryman","setName","setEmail","loadDeliveryman","response","get","currentDeliveryman","value","data","label","handleNameChange","e","target","handleEmailChange","email","handleSubmit","avatar_id","console","tron","log","updateRequest","goBack","propTypes","isRequired"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { MdCheck, MdKeyboardArrowLeft } from 'react-icons/md';\nimport { Form, Input } from '@rocketseat/unform';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\n\nimport { Container, EditDeliveryman, FormDeliveryman } from './styles';\nimport HeaderPages from '../../../components/HeaderPages';\nimport history from '../../../services/history';\nimport IconButton from '../../../components/IconButton';\nimport ButtonBack from '../../../components/ButtonBack';\nimport api from '../../../services/api';\nimport * as DeliverymanActions from '../../../store/modules/deliveryman/actions';\nimport AvatarInput from '../AvatarInput';\n\nconst schema = Yup.object().shape({\n  name: Yup.string().required('O nome do destinatário é obrigatório'),\n  street: Yup.string().required('O nome da rua é obrigatório'),\n  number: Yup.string().required('O número é obrigatório'),\n  city: Yup.string().required('O nome da cidade é obrigatório'),\n  state: Yup.string().required('O estado é obrigatório'),\n  zip: Yup.number().required('O zip é obrigatório'),\n});\n\nexport default function EdicaoEntregador({ match }) {\n  const dispatch = useDispatch();\n\n  const { id } = match.params;\n  const [deliveryman, setDeliveryman] = useState('');\n  const [, setName] = useState([]);\n  const [, setEmail] = useState([]);\n\n  async function loadDeliveryman() {\n    if (id) {\n      const response = await api.get(`deliveries/${id}`);\n\n      const currentDeliveryman = {\n        value: response.data.id,\n        label: response.data.name,\n      };\n\n      response.data.currentDeliveryman = currentDeliveryman;\n\n      setDeliveryman(response.data);\n    }\n  }\n\n  useEffect(() => {\n    loadDeliveryman(); // eslint-disable-next-line\n  }, [id]);\n\n  const handleNameChange = e => {\n    deliveryman.name = e.target.value;\n    setName(deliveryman.name);\n  };\n\n  const handleEmailChange = e => {\n    deliveryman.email = e.target.value;\n    setEmail(deliveryman.email);\n  };\n\n  async function handleSubmit({ name, email, avatar_id }) {\n    console.tron.log(name, 'nome');\n    dispatch(DeliverymanActions.updateRequest({ id, name, email, avatar_id }));\n  }\n\n  return (\n    <Container>\n      <EditDeliveryman>\n        <Form initialData={deliveryman} schema={schema} onSubmit={handleSubmit}>\n          <HeaderPages title=\"Edição de entregadores\">\n            <ButtonBack\n              Icon={MdKeyboardArrowLeft}\n              title=\"VOLTAR\"\n              type=\"button\"\n              action={history.goBack}\n            />\n            <IconButton\n              Icon={MdCheck}\n              title=\"SALVAR\"\n              type=\"submit\"\n              onClick={handleSubmit}\n            />\n          </HeaderPages>\n          <FormDeliveryman>\n            <AvatarInput name=\"avatar_id\" />\n            <div className=\"divName\">\n              <p>Nome</p>\n              <Input\n                name=\"name\"\n                placeholder=\"Nome do entregador\"\n                onChange={handleNameChange}\n              />\n            </div>\n            <div className=\"divEmail\">\n              <p>Email</p>\n              <Input\n                name=\"email\"\n                placeholder=\"Email do entregador\"\n                onChange={handleEmailChange}\n              />\n            </div>\n          </FormDeliveryman>\n        </Form>\n      </EditDeliveryman>\n    </Container>\n  );\n}\n\nEdicaoEntregador.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }).isRequired,\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}