{"ast":null,"code":"var _jsxFileName = \"/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Problemas/ProblemasTabela/index.js\";\nimport React from 'react';\nimport { MdRemoveRedEye, MdDelete } from 'react-icons/md';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport Popup from 'reactjs-popup';\nimport { Container, Button } from './styles';\nimport ButtonMore from '../../../components/ButtonMore';\nimport history from '../../../services/history';\nimport * as ProblemsActions from '../../../store/modules/orders/actions';\nimport api from '../../../services/api';\nexport default function ProblemasTabela({\n  data,\n  updateProblem\n}) {\n  const dispatch = useDispatch();\n\n  async function handleCancel() {\n    var confirmCancel = window.confirm(`Você tem certeza que deseja cancelar a encomenda ${data.delivery_id}?`);\n\n    if (confirmCancel === true) {\n      console.tron.log(data);\n      await dispatch(ProblemsActions.cancelRequest(data));\n      await api.delete(`problem/${data.id}/cancel-delivery`);\n      updateProblem();\n    } else {\n      history.push('/destinatarios');\n    }\n  }\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"#\", data.delivery_id), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, data.description), React.createElement(ButtonMore, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Popup, {\n    trigger: React.createElement(\"button\", {\n      className: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, ' ', React.createElement(MdRemoveRedEye, {\n      color: \"#8E5BE8\",\n      size: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Visualizar\"), ' '),\n    modal: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, close => React.createElement(\"div\", {\n    className: \"modal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"close\",\n    onClick: close,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"\\xD7\"), React.createElement(\"div\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"VISUALIZAR PROBLEMA\"), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, data.description)))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: handleCancel,\n    type: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(MdDelete, {\n    color: \"#DE3B3B\",\n    size: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Cancelar\"))))));\n}\nProblemasTabela.propTypes = {\n  data: PropTypes.shape({\n    id: PropTypes.number,\n    delivery_id: PropTypes.number,\n    description: PropTypes.string\n  }).isRequired,\n  updateProblem: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Problemas/ProblemasTabela/index.js"],"names":["React","MdRemoveRedEye","MdDelete","PropTypes","useDispatch","Popup","Container","Button","ButtonMore","history","ProblemsActions","api","ProblemasTabela","data","updateProblem","dispatch","handleCancel","confirmCancel","window","confirm","delivery_id","console","tron","log","cancelRequest","delete","id","push","description","close","propTypes","shape","number","string","isRequired","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { MdRemoveRedEye, MdDelete } from 'react-icons/md';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport Popup from 'reactjs-popup';\n\nimport { Container, Button } from './styles';\nimport ButtonMore from '../../../components/ButtonMore';\nimport history from '../../../services/history';\nimport * as ProblemsActions from '../../../store/modules/orders/actions';\nimport api from '../../../services/api';\n\nexport default function ProblemasTabela({ data, updateProblem }) {\n  const dispatch = useDispatch();\n\n  async function handleCancel() {\n    var confirmCancel = window.confirm(\n      `Você tem certeza que deseja cancelar a encomenda ${data.delivery_id}?`\n    );\n\n    if (confirmCancel === true) {\n      console.tron.log(data);\n      await dispatch(ProblemsActions.cancelRequest(data));\n      await api.delete(`problem/${data.id}/cancel-delivery`);\n      updateProblem();\n    } else {\n      history.push('/destinatarios');\n    }\n  }\n\n  return (\n    <Container>\n      <small>#{data.delivery_id}</small>\n      <small>{data.description}</small>\n\n      <ButtonMore>\n        <Button>\n          <div>\n            <Popup\n              trigger={\n                <button className=\"button\">\n                  {' '}\n                  <MdRemoveRedEye color=\"#8E5BE8\" size={10} />\n                  <span>Visualizar</span>{' '}\n                </button>\n              }\n              modal\n            >\n              {close => (\n                <div className=\"modal\">\n                  <button className=\"close\" onClick={close}>\n                    &times;\n                  </button>\n                  <div className=\"header\">VISUALIZAR PROBLEMA</div>\n                  <div className=\"content\">{data.description}</div>\n                </div>\n              )}\n            </Popup>\n          </div>\n          <div>\n            <button onClick={handleCancel} type=\"button\">\n              <MdDelete color=\"#DE3B3B\" size={10} />\n              <span>Cancelar</span>\n            </button>\n          </div>\n        </Button>\n      </ButtonMore>\n    </Container>\n  );\n}\n\nProblemasTabela.propTypes = {\n  data: PropTypes.shape({\n    id: PropTypes.number,\n    delivery_id: PropTypes.number,\n    description: PropTypes.string,\n  }).isRequired,\n  updateProblem: PropTypes.func.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}