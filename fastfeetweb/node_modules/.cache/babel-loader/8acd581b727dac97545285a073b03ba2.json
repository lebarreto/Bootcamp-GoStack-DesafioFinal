{"ast":null,"code":"var _jsxFileName = \"/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Encomendas/CriacaoEncomendas/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport { MdCheck, MdKeyboardArrowLeft } from 'react-icons/md';\nimport { Form, Input } from '@rocketseat/unform';\nimport Select from 'react-select';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\nimport { Container, EditOrder, FormOrder } from './styles';\nimport HeaderPages from '../../../components/HeaderPages';\nimport history from '../../../services/history';\nimport IconButton from '../../../components/IconButton';\nimport ButtonBack from '../../../components/IconButton';\nimport api from '../../../services/api';\nimport * as OrdersActions from '../../../store/modules/orders/actions';\nconst schema = Yup.object().shape({\n  product: Yup.string().required('O nome do produto é obrigatório'),\n  recipient_id: Yup.string().required('O nome do destinatário é obrigatório'),\n  delivaryman_id: Yup.string().required('O nome do entregador é obrigatório')\n});\nexport default function CriacaoEncomendas() {\n  const dispatch = useDispatch();\n  const [recipient, setRecipients] = useState([]);\n  const [delivery, setDeliveries] = useState([]);\n  const [product, setProducts] = useState([]);\n  const [recipient_id, setRecipientId] = useState([]);\n  const [delivaryman_id, setDelivarymanId] = useState([]);\n  useEffect(() => {\n    async function loadRecipients() {\n      const response = await api.get('/recipient');\n      const data = response.data.map(recipient => ({\n        value: recipient.id,\n        label: recipient.name\n      }));\n      setRecipients(data);\n    }\n\n    async function loadDeliveries() {\n      const response = await api.get('/deliveries');\n      const dataDelivery = response.data.map(delivery => ({\n        value: delivery.id,\n        label: delivery.name\n      }));\n      setDeliveries(dataDelivery);\n    }\n\n    loadRecipients();\n    loadDeliveries();\n  }, []);\n\n  async function handleSubmit({\n    product,\n    delivaryman_id,\n    recipient_id\n  }) {\n    console.tron.log(delivaryman_id);\n    dispatch(OrdersActions.addRequest(product, delivaryman_id, recipient_id));\n  }\n\n  const handleRecipientChange = e => {\n    setRecipientId(e.value);\n  };\n\n  const handleDeliverymanChange = e => {\n    console.tron.log(e.value);\n    setDelivarymanId(e.value);\n  };\n\n  const handleProductChange = e => {\n    setProducts(e.target.value);\n  };\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(EditOrder, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Form, {\n    schema: schema,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(HeaderPages, {\n    title: \"Cria\\xE7\\xE3o de Encomendas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(ButtonBack, {\n    Icon: MdKeyboardArrowLeft,\n    title: \"VOLTAR\",\n    type: \"button\",\n    action: history.goBack,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(IconButton, {\n    Icon: MdCheck,\n    title: \"SALVAR\",\n    type: \"submit\",\n    action: () => handleSubmit({\n      product,\n      delivaryman_id,\n      recipient_id\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })), React.createElement(FormOrder, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"divSelect\",\n    id: \"recipient_id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Destinat\\xE1rio\"), React.createElement(Select, {\n    className: \"rec\",\n    name: \"recipient_id\",\n    placeholder: 'Selecione um entregador... ',\n    options: recipient,\n    onChange: handleRecipientChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"divSelect\",\n    id: \"delivaryman_id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Entregadores\"), React.createElement(Select, {\n    className: \"del\",\n    name: \"delivaryman_id\",\n    placeholder: 'Selecione um entregador... ',\n    options: delivery,\n    onChange: handleDeliverymanChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"divInp\",\n    id: \"product\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"Nome do produto\"), React.createElement(Input, {\n    name: \"product\",\n    placeholder: \"Nome do produto\",\n    onChange: handleProductChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }))))));\n}","map":{"version":3,"sources":["/Users/leticiabarreto/Documents/RocketSeat/GoStackAulas/Bootcamp-GoStack-DesafioFinal/fastfeetweb/src/pages/Encomendas/CriacaoEncomendas/index.js"],"names":["React","useEffect","useState","MdCheck","MdKeyboardArrowLeft","Form","Input","Select","Yup","useDispatch","Container","EditOrder","FormOrder","HeaderPages","history","IconButton","ButtonBack","api","OrdersActions","schema","object","shape","product","string","required","recipient_id","delivaryman_id","CriacaoEncomendas","dispatch","recipient","setRecipients","delivery","setDeliveries","setProducts","setRecipientId","setDelivarymanId","loadRecipients","response","get","data","map","value","id","label","name","loadDeliveries","dataDelivery","handleSubmit","console","tron","log","addRequest","handleRecipientChange","e","handleDeliverymanChange","handleProductChange","target","goBack"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { MdCheck, MdKeyboardArrowLeft } from 'react-icons/md';\nimport { Form, Input } from '@rocketseat/unform';\nimport Select from 'react-select';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\n\nimport { Container, EditOrder, FormOrder } from './styles';\nimport HeaderPages from '../../../components/HeaderPages';\nimport history from '../../../services/history';\nimport IconButton from '../../../components/IconButton';\nimport ButtonBack from '../../../components/IconButton';\nimport api from '../../../services/api';\nimport * as OrdersActions from '../../../store/modules/orders/actions';\n\nconst schema = Yup.object().shape({\n  product: Yup.string().required('O nome do produto é obrigatório'),\n  recipient_id: Yup.string().required('O nome do destinatário é obrigatório'),\n  delivaryman_id: Yup.string().required('O nome do entregador é obrigatório'),\n});\n\nexport default function CriacaoEncomendas() {\n  const dispatch = useDispatch();\n\n  const [recipient, setRecipients] = useState([]);\n  const [delivery, setDeliveries] = useState([]);\n  const [product, setProducts] = useState([]);\n  const [recipient_id, setRecipientId] = useState([]);\n  const [delivaryman_id, setDelivarymanId] = useState([]);\n\n  useEffect(() => {\n    async function loadRecipients() {\n      const response = await api.get('/recipient');\n\n      const data = response.data.map(recipient => ({\n        value: recipient.id,\n        label: recipient.name,\n      }));\n\n      setRecipients(data);\n    }\n\n    async function loadDeliveries() {\n      const response = await api.get('/deliveries');\n\n      const dataDelivery = response.data.map(delivery => ({\n        value: delivery.id,\n        label: delivery.name,\n      }));\n\n      setDeliveries(dataDelivery);\n    }\n\n    loadRecipients();\n    loadDeliveries();\n  }, []);\n\n  async function handleSubmit({ product, delivaryman_id, recipient_id }) {\n    console.tron.log(delivaryman_id);\n    dispatch(OrdersActions.addRequest(product, delivaryman_id, recipient_id));\n  }\n\n  const handleRecipientChange = e => {\n    setRecipientId(e.value);\n  };\n\n  const handleDeliverymanChange = e => {\n    console.tron.log(e.value);\n    setDelivarymanId(e.value);\n  };\n\n  const handleProductChange = e => {\n    setProducts(e.target.value);\n  };\n\n  return (\n    <Container>\n      <EditOrder>\n        <Form schema={schema} onSubmit={handleSubmit}>\n          <HeaderPages title=\"Criação de Encomendas\">\n            <ButtonBack\n              Icon={MdKeyboardArrowLeft}\n              title=\"VOLTAR\"\n              type=\"button\"\n              action={history.goBack}\n            />\n            <IconButton\n              Icon={MdCheck}\n              title=\"SALVAR\"\n              type=\"submit\"\n              action={() =>\n                handleSubmit({ product, delivaryman_id, recipient_id })\n              }\n            />\n          </HeaderPages>\n          <FormOrder>\n            <div className=\"divSelect\" id=\"recipient_id\">\n              <label>Destinatário</label>\n              <Select\n                className=\"rec\"\n                name=\"recipient_id\"\n                placeholder={'Selecione um entregador... '}\n                options={recipient}\n                onChange={handleRecipientChange}\n              />\n            </div>\n            <div className=\"divSelect\" id=\"delivaryman_id\">\n              <label>Entregadores</label>\n              <Select\n                className=\"del\"\n                name=\"delivaryman_id\"\n                placeholder={'Selecione um entregador... '}\n                options={delivery}\n                onChange={handleDeliverymanChange}\n              />\n            </div>\n            <div className=\"divInp\" id=\"product\">\n              <label>Nome do produto</label>\n              <Input\n                name=\"product\"\n                placeholder=\"Nome do produto\"\n                onChange={handleProductChange}\n              />\n            </div>\n          </FormOrder>\n        </Form>\n      </EditOrder>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}